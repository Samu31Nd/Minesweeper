(function(){function s(n,t){var i;if((i=window===null||window===void 0?void 0:window.navigator)===null||i===void 0?void 0:i.sendBeacon){var r=(new Date).getTime(),u="<E><T>Event.ClientInst<\/T><IG>".concat(_G.IG,"<\/IG><TS>").concat(r,'<\/TS><D><![CDATA[{T:"CI.PasteSearch",FID:"CI",Name:"').concat(n,'",Text:"').concat(t,'"}]\]><\/D><\/E>'),f="<ClientInstRequest><Events>".concat(u,"<\/Events><STS>").concat(r,"<\/STS><\/ClientInstRequest>");window.navigator.sendBeacon("/fd/ls/lsp.aspx?",f)}}function c(){var n=new URL(window.location.href),t=n.searchParams.get("q")||"";return t.trim().toLocaleLowerCase()}function l(n){var i=new URL(window.location.href),t=new URL(i.origin);return t.pathname=i.pathname,t.searchParams.set("q",n),t.searchParams.set("form","PASTES"),t.href}function a(i,r){t&&clearTimeout(t);t=setTimeout(function(){var i=_d.getElementById(f),t;if(i&&(t=i.value,t&&t.trim().toLocaleLowerCase()!==c())&&(s("trigger","pasteSearch"),!r))try{n=!1;window.sessionStorage.setItem("focusOnSearchBox","enable");window.location.href=l(t)}catch(u){_w.sj_log&&sj_log("CI.PasteSearch","error",u.message)}},i)}function r(){t&&clearTimeout(t)}function h(){n=!1;o="";e=u=i=0}function v(){var t,r,n,i;try{if(r=window.sessionStorage.getItem("focusOnSearchBox"),!r)return;if(window.sessionStorage.removeItem("focusOnSearchBox"),n=_d.getElementById(f),typeof(n===null||n===void 0?void 0:n.focus)!="function")return;h();n.focus();i=((t=n.value)===null||t===void 0?void 0:t.length)||0;typeof n.setSelectionRange=="function"&&n.setSelectionRange(i,i)}catch(u){_w.sj_log&&sj_log("CI.PasteSearch","error",u.message)}}var f="sb_form_q",t,e=0,u=0,i=0,n=!1,o="";v();sj_evt.bind("searchBoxPasteSearchInit",function(t){var l=t[1],v=l.delayTime,y=l.isControl,c=_d.getElementById(f);c&&(_d.addEventListener("mousemove",function(){n&&(i=(new Date).getTime(),r())}),_d.addEventListener("touchstart",function(){n&&(i=(new Date).getTime(),r())}),c.addEventListener("focus",function(){h()}),c.addEventListener("blur",function(){r()}),c.addEventListener("input",function(t){var f=t;f.inputType==="insertFromPaste"?(e=(new Date).getTime(),a(v,y),_w.sj_log&&sj_log("CI.PasteSearch","paste","paste"),n=!0,u=i=0,o=c.value):n&&(u=(new Date).getTime(),r())}),sj_evt.bind("AS.Navigate",function(){if(n){var t=(new Date).getTime();n=!1;r();s("search","type: paste".concat(c.value===o?"Direct":"Change","Search, searchGap: ").concat(t-e,", typingGap: ").concat(t-u,", mouseGap: ").concat(t-i))}}))},!0)})()